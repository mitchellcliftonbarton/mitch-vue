<template>
  <div
    id="mouse"
    :style="{ transform: `translate3d(${this.pageX.toFixed(2)}px, ${this.pageY.toFixed(2)}px, 0)`}"
    :class="{ 'active': active }"
  >
  <svg x="0px" y="0px" width="70px" viewBox="0 0 198.8 198.8">
    <g>
      <circle class="circle" :fill="this.theColor" cx="99.9" cy="98.9" r="49.6"/>
    </g>
    <g v-if="this.next" class="next">
      <path d="M115.8,28.4l-5.1-0.4l-9.1-17.6l-2.2-5.1l0,0l-0.2,4.6L97.8,27l-4-0.3l2-26.8l5.1,0.4l9,17.6l2.3,5.2l0,0l0.2-4.6l1.3-17.3 l4,0.3L115.8,28.4z"/>
      <path d="M160,52.6l-2.6,2.7L143,41.4l18.7-19.3l14,13.5l-2.6,2.7l-10.8-10.5l-5.4,5.5l8.5,8.2l-2.5,2.6l-8.5-8.2l-5.5,5.7L160,52.6 z"/>
      <path d="M171.6,95.9l9.5-7.9l-11.2-5.1l-0.7-5l14.8,7.4l11.9-10.3l0.7,5.1l-9,7.5l10.7,4.8l0.6,4.7l-14.1-6.8L172.3,101L171.6,95.9 z"/>
      <path d="M176.1,156.7l4.6-8l-20-11.5l2.2-3.8l20,11.5l4.6-8l3.2,1.9l-11.4,19.7L176.1,156.7z"/>
      <path d="M78.6,169.2l5.1,0.7l8,18.2l1.9,5.3l0,0l0.5-4.5l2.3-17.2l3.9,0.5l-3.6,26.6l-5.1-0.7L83.8,180l-1.9-5.3l0,0l-0.5,4.5 L79,196.3l-4-0.5L78.6,169.2z"/>
      <path d="M36,142.3l2.8-2.5l13.5,14.8l-19.8,18.1l-13.1-14.3l2.8-2.5l10.2,11.1l5.7-5.2l-7.9-8.7l2.7-2.5l7.9,8.7l5.9-5.4L36,142.3z"/>
      <path d="M27.1,98.4l-9.9,7.3l10.9,5.8l0.4,5l-14.3-8.3l-12.5,9.5l-0.4-5.1l9.5-6.9l-10.4-5.4L0,95.6l13.7,7.7l13.1-10L27.1,98.4z" />
      <path d="M26.3,37.4l-5.1,7.7l19.2,12.8l-2.4,3.6L18.9,48.7l-5.1,7.7l-3.1-2.1l12.5-18.9L26.3,37.4z"/>
    </g>
    <g v-else-if="this.prev">
      <path d="M3.3,86.4c1.7-1.7,3.9-2.5,6.6-2.4c2.7,0.1,4.9,1.1,6.3,3c1.5,1.9,2.1,4.3,2,7.4l-0.3,6.3l10.7,0.5l-0.2,4.6L0,104.4 l0.5-10.9C0.7,90.5,1.6,88.1,3.3,86.4z M13.2,90.4c-0.8-1-2-1.6-3.6-1.6c-3.3-0.2-5,1.7-5.2,5.7L4.1,100l9.8,0.5l0.3-5.6 C14.3,92.9,14,91.4,13.2,90.4z"/>
      <path d="M37.7,45.8l-4,4.6l8.6,7.4l-3,3.5L17.8,42.8l7.5-8.8c2-2.3,4.1-3.7,6.4-4c2.3-0.4,4.5,0.3,6.5,2.1c1.5,1.3,2.5,2.8,2.8,4.5 c0.4,1.7,0.1,3.4-0.7,5.3l14,1.9l-3.4,4L37.7,45.8z M30.8,47.9l4.3-5c1.2-1.4,1.8-2.7,1.9-3.9c0-1.2-0.6-2.3-1.8-3.3 c-1.2-1-2.4-1.4-3.6-1.2s-2.4,1-3.6,2.4l-4.3,5L30.8,47.9z"/>
      <path d="M96.9,23.8l0.8,3.9l-20.7,4.1L71.4,4l20.2-4l0.8,3.9L76.7,7l1.6,8l12.2-2.4l0.8,3.8L79,18.8l1.7,8.3L96.9,23.8z"/>
      <path d="M134.5,37.4l-4.8-2.4L133,4.9l4.4,2.2l-2.5,19.8l-1,5.8l4-4.2l14.4-14l4.3,2.2L134.5,37.4z"/>
      <path d="M197.5,110.6c-1.6,1.8-3.8,2.6-6.5,2.6c-2.8,0-4.9-1-6.4-2.8c-1.5-1.8-2.3-4.3-2.2-7.3l0.1-6.3l-10.7-0.2l0.1-4.6l28.4,0.5 l-0.2,10.9C199.9,106.4,199.1,108.9,197.5,110.6z M187.4,106.9c0.8,1,2,1.5,3.7,1.5c3.3,0.1,5-1.9,5-5.9l0.1-5.6l-9.8-0.2l-0.1,5.6 C186.2,104.4,186.6,105.9,187.4,106.9z"/>
      <path d="M164.4,152.3l3.8-4.8l-8.8-7.1l2.9-3.6l22.1,17.8l-7.3,9c-1.9,2.4-4,3.8-6.3,4.2c-2.3,0.4-4.5-0.2-6.5-1.8 c-1.6-1.3-2.6-2.7-3-4.4c-0.4-1.7-0.2-3.4,0.5-5.3l-14.1-1.4l3.3-4.1L164.4,152.3z M171.2,150l-4.2,5.2c-1.2,1.5-1.7,2.8-1.7,4 c0,1.2,0.6,2.3,1.9,3.3c1.2,1,2.4,1.4,3.6,1.1c1.2-0.2,2.3-1.1,3.5-2.5l4.2-5.2L171.2,150z"/>
      <path d="M106,176.1l-0.9-3.9l20.6-4.8l6.5,27.6l-20,4.7l-0.9-3.9l15.5-3.6l-1.9-8l-12.1,2.8l-0.9-3.8l12.1-2.8l-1.9-8.2L106,176.1z "/>
      <path d="M67.9,163.8l4.9,2.2l-2.3,30.2l-4.5-2.1l1.9-19.9l0.8-5.8l-3.9,4.4l-13.9,14.4l-4.4-2L67.9,163.8z"/>
    </g>
    <g v-else-if="this.zoom" class="zoom">
      <path d="M24.1,82.5l3.7,0.2l-1,21.6l-3.5-0.2L4.4,87l-0.7,15.8L0,102.7l1-20.8l3.5,0.2l18.8,17.1L24.1,82.5z"/>
      <path d="M27.2,30.8c2.1-0.8,4.2-0.9,6.5-0.4c2.3,0.5,4.5,1.6,6.7,3.4c2.2,1.8,3.8,3.7,4.8,5.8c1,2.1,1.3,4.3,1,6.4 c-0.3,2.2-1.3,4.3-2.9,6.3c-1.6,2-3.4,3.4-5.5,4.2c-2.1,0.8-4.2,0.9-6.5,0.4c-2.3-0.5-4.5-1.6-6.7-3.4c-2.2-1.8-3.8-3.7-4.8-5.8 c-1-2.1-1.3-4.2-1-6.4c0.3-2.2,1.3-4.3,2.9-6.3C23.3,33,25.2,31.6,27.2,30.8z M23,43.6c0.5,2.2,2,4.3,4.4,6.3s4.8,3,7.1,2.9 c2.3,0,4.2-1,5.8-3c1.6-2,2.2-4.1,1.7-6.3c-0.5-2.2-2-4.3-4.4-6.3s-4.8-3-7.1-2.9c-2.3,0-4.2,1-5.8,3C23.1,39.3,22.6,41.4,23,43.6z "/>
      <path d="M83.2,0.5c2.1,0.6,3.9,1.9,5.4,3.7c1.5,1.8,2.5,4.1,3.2,6.8c0.6,2.7,0.7,5.2,0.2,7.5c-0.5,2.3-1.6,4.2-3.2,5.7 c-1.6,1.5-3.7,2.6-6.2,3.2c-2.5,0.6-4.8,0.6-6.9-0.1c-2.1-0.6-3.9-1.9-5.4-3.7c-1.5-1.8-2.5-4.1-3.2-6.8c-0.6-2.7-0.7-5.2-0.2-7.5 c0.5-2.3,1.6-4.2,3.2-5.7c1.6-1.5,3.6-2.6,6.1-3.2C78.8-0.2,81.1-0.1,83.2,0.5z M72,8c-1,2-1.1,4.6-0.4,7.7c0.7,3.1,2,5.3,3.8,6.7 c1.8,1.4,3.9,1.8,6.4,1.2c2.5-0.6,4.2-1.9,5.2-3.9c1-2,1.1-4.6,0.4-7.7c-0.7-3.1-2-5.3-3.8-6.7c-1.8-1.4-3.9-1.8-6.4-1.2 C74.7,4.7,73,6,72,8z"/>
      <path d="M143.6,38.7l-3.6-1.8L147,23l3.6-6.5l0,0l-17.5,16.9l-3.2-1.6l2.9-24.2l0,0l-3,6.8l-6.9,13.9l-3.6-1.8l12-24l5.8,2.9 l-2.1,16.3l-1.2,6.5l0.1,0l4.6-4.9l11.7-11.5l5.7,2.8L143.6,38.7z"/>
      <path d="M174.7,108.2l-3.7-0.1l0.4-21.7l3.5,0.1l19.3,16.5l0.3-15.8l3.7,0.1l-0.3,20.8l-3.5-0.1L175,91.5L174.7,108.2z"/>
      <path d="M174,160c-2,0.9-4.2,1.1-6.5,0.7c-2.3-0.4-4.6-1.4-6.8-3.1c-2.3-1.7-3.9-3.5-5-5.6c-1.1-2.1-1.5-4.2-1.3-6.4 c0.2-2.2,1.1-4.3,2.6-6.4c1.5-2.1,3.3-3.6,5.3-4.4c2-0.9,4.2-1.1,6.5-0.7c2.3,0.4,4.6,1.4,6.8,3.1c2.3,1.7,3.9,3.5,5,5.6 c1.1,2.1,1.5,4.2,1.3,6.4c-0.2,2.2-1.1,4.3-2.6,6.4C177.8,157.6,176,159.1,174,160z M177.6,147c-0.6-2.2-2.1-4.2-4.7-6.1 c-2.6-1.9-5-2.8-7.2-2.6c-2.3,0.1-4.1,1.2-5.6,3.2c-1.5,2.1-2,4.2-1.4,6.4c0.6,2.2,2.1,4.2,4.7,6.1c2.6,1.9,5,2.8,7.2,2.6 c2.3-0.1,4.2-1.2,5.7-3.3C177.8,151.3,178.2,149.2,177.6,147z"/>
      <path d="M119.4,192.7c-2.1-0.5-4-1.7-5.6-3.4c-1.6-1.7-2.7-3.9-3.5-6.7c-0.8-2.7-0.9-5.2-0.5-7.5c0.4-2.3,1.4-4.2,2.9-5.8 c1.5-1.6,3.5-2.7,6-3.4c2.5-0.7,4.8-0.8,6.9-0.2c2.1,0.6,4,1.7,5.5,3.4c1.6,1.7,2.7,3.9,3.5,6.7c0.8,2.7,0.9,5.2,0.5,7.5 c-0.4,2.3-1.4,4.2-2.9,5.8c-1.5,1.6-3.5,2.7-6,3.4C123.9,193.2,121.6,193.2,119.4,192.7z M130.3,184.7c0.9-2.1,0.9-4.7,0.1-7.7 c-0.9-3-2.2-5.2-4.1-6.5c-1.9-1.3-4-1.6-6.4-0.9c-2.5,0.7-4.1,2.1-5,4.2c-0.9,2.1-0.9,4.7-0.1,7.7c0.9,3,2.2,5.2,4.1,6.5 c1.9,1.3,4,1.6,6.5,0.9C127.7,188.1,129.4,186.8,130.3,184.7z"/>
      <path d="M57.4,157.2l3.6,1.6L54.7,173l-3.3,6.6l0,0l16.8-17.6l3.3,1.5l-1.9,24.3l0,0l2.7-6.9l6.3-14.2l3.7,1.6l-10.9,24.5l-5.9-2.6 l1.4-16.4l0.9-6.6l-0.1,0l-4.3,5.1l-11.2,12l-5.8-2.6L57.4,157.2z"/>
    </g>
  </svg>
  </div>
</template>

<script>
export default {
  name: 'Mouse',
  data () {
    return {
      active: false,
      pageX: 0,
      pageY: 0,
      next: false,
      prev: false,
      zoom: false
    }
  },
  computed: {
    theColor () {
      return this.zoom ? 'rgba(255, 0, 0, 0.5)' : 'rgba(250, 250, 40, .5)'
    }
  },
  methods: {
    onMove (e) {
      this.pageX = e.pageX - 35
      this.pageY = e.pageY - 35
    },
    onEnter () {
      this.active = true
    },
    onLeave () {
      this.active = false
    },
    moveListen () {
      document.addEventListener('mousemove', (e) => {
        this.onMove(e)

        if (e.target.classList.contains('next-link')) {
          // for next mouse
          this.zoom = false
          this.prev = false
          this.next = true
        } else if (e.target.classList.contains('prev-link')) {
          // for prev mouse
          this.zoom = false
          this.next = false
          this.prev = true
        } else if (e.target.classList.contains('piece-image')) {
          // for zoom mouse
          this.next = false
          this.prev = false
          this.zoom = true
        } else {
          // for no mouse, just circle
          this.next = false
          this.prev = false
          this.zoom = false
        }
      })
    }
  },
  mounted () {
    this.moveListen()

    document.addEventListener('mouseenter', () => {
      this.onEnter()
    })

    document.addEventListener('mouseleave', () => {
      this.onLeave()
    })
  }
}
</script>

<style lang="scss">
  #mouse {
    position : absolute;
    top      : 0px;
    left     : 0px;
    z-index  : 1000;
    pointer-events: none;
    transition: transform cubic-bezier(0, 0.31, 0.04, 0.84) .3s, opacity .3s;
    opacity: 0;

    &.active {
      opacity: 1;
    }

    .circle {
      transition: fill .3s;
    }
  }
</style>
